function dataTablesGrid(e,t,a,n,s,r,l,i,o,c,d,u,m,h){l=l||!1,i=i||!1,o=o||!1,c=c||0,d=d||"desc",s=s||{},u=u||!1,h=h||0,m=m||!1;window[t+"_rows_selected"]=[],u&&(checkbox_column={title:'<input name="select_all" value="1" type="checkbox"/>',searchable:!1,orderable:!1,width:"1%",className:"dt-body-center",render:function(e,t,a,n){return'<input type="checkbox">'}},n.unshift(checkbox_column));var f={initComplete:function(){1==r&&this.api().columns().every(function(){var e=this,t=$('<select class="filter-select" data-placeholder="Filter"><option value=""></option></select>').appendTo($(e.footer()).not(":last-child").empty()).on("change",function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,a){t.append('<option value="'+e+'">'+e+"</option>")})})},displayStart:h,fixedColumns:m,ajax:{url:a,type:"POST",data:s},columns:n,scrollX:l,scrollY:i,scrollCollapse:o,order:[[c,d]],rowCallback:function(e,a,n){if(u){func_search_in_obj("id",a.id,window[t+"_rows_selected"])&&($(e).find('input[type="checkbox"]').prop("checked",!0),$(e).addClass("selected"))}},destroy:!0};i||(delete f.scrollY,delete f.scrollCollapse),window[t]=$(e).DataTable(f),u&&($(e).on("click",'input[type="checkbox"]',function(e){var a=$(this).closest("tr"),n=window[t].row(a).data(),s=n,r=$.inArray(s,window[t+"_rows_selected"]);this.checked&&-1===r?window[t+"_rows_selected"].push(s):this.checked||-1===r||window[t+"_rows_selected"].splice(r,1),this.checked?a.addClass("selected"):a.removeClass("selected"),updateDataTableSelectAllCtrl(window[t]),e.stopPropagation()}),$(e).on("click","tbody td, thead th:first-child",function(e){$(this).parent().find('input[type="checkbox"]').trigger("click")}),$('thead input[name="select_all"]',window[t].table().container()).on("click",function(t){this.checked?$(e+' tbody input[type="checkbox"]:not(:checked)').trigger("click"):$(e+' tbody input[type="checkbox"]:checked').trigger("click"),t.stopPropagation()}),window[t].on("draw",function(){updateDataTableSelectAllCtrl(window[t])}))}function updateDataTableSelectAllCtrl(e){var t=e.table().node(),a=$('tbody input[type="checkbox"]',t),n=$('tbody input[type="checkbox"]:checked',t),s=$('thead input[name="select_all"]',t).get(0);0===n.length?(s.checked=!1,"indeterminate"in s&&(s.indeterminate=!1)):n.length===a.length?(s.checked=!0,"indeterminate"in s&&(s.indeterminate=!1)):(s.checked=!0,"indeterminate"in s&&(s.indeterminate=!0))}function init_select2_ajax(e,t,a,n,s,r,l){a=a||!1,l=l||null,s=s||!1,n=n||!1,r=r||"جستجو کنید ...",t=t||'{{ "222"}}',$(e).select2({minimumInputLength:3,allowClear:a,multiple:n,tags:s,dir:"rtl",width:"100%",placeholder:r,language:"fa",tags:!1,ajax:{url:t,dataType:"json",type:"POST",quietMillis:150,data:function(e){return{term:e,selectable_id:l}},results:function(e){return{results:$.map(e,function(e){return{text:e.text,id:e.id}})}}}})}function init_select2_data(e,t,a,n,s,r,l){n=n||!1,a=a||!1,r=r||!1,s=s||!1,l=l||"جستجو کنید ...",t=t||'{{ "222"}}',$(e).select2({minimumInputLength:a,allowClear:n,multiple:s,tags:r,dir:"rtl",width:"100%",placeholder:l,language:"fa",data:t})}function clear_form_elements(e){e=e||"document",$(e).find(":input").each(function(){switch(this.type){case"password":case"select-multiple":case"select-one":case"text":case"textarea":$(this).val("");break;case"checkbox":case"radio":this.checked=!1}})}function checkUsername(e){var t=/\W/;return null==e?"^<strong>وارد کردن نام کاربری الزامی است.</strong>":t.test(e)?"^<strong>نام کاربری فقط می تواند ترکیبی از اعداد و حروف انگلیسی باشد.</strong>":e.length<5?"^<strong>نام کابری باید حداقل 5 کاراکتر باشد.</strong>":e.length>20?"^<strong>نام کابری باید حداکثر 20 کاراکتر باشد.</strong>":null}function checkCodeMelli(e){if(!/^\d{10}$/.test(e)||"0000000000"==e||"1111111111"==e||"2222222222"==e||"3333333333"==e||"4444444444"==e||"5555555555"==e||"6666666666"==e||"7777777777"==e||"8888888888"==e||"9999999999"==e)return!1;var t,a=parseInt(e[9]),n=0;for(t=0;t<9;++t)n+=parseInt(e[t])*(10-t);return(n%=11)<2&&a==n||n>=2&&a+n==11}function checkMobileNumber(e){return!!/^09[0-9]{9}$/.test(e)}function check_national_id(e){if(e.length<11||0==parseInt(e,10))return!1;if(0==parseInt(e.substr(3,6),10))return!1;for(var t=parseInt(e.substr(10,1),10),a=parseInt(e.substr(9,1),10)+2,n=new Array(29,27,23,19,17),s=0,r=0;r<10;r++)s+=(a+parseInt(e.substr(r,1),10))*n[r%5];return s%=11,10==s&&(s=0),t==s}function init_validatejs(e,t,a,n,s){var s=s||!1;n=n||"#"+e.id;for(var r=e.querySelectorAll("button[type=submit]"),l=0;l<r.length;++l)r.item(l).addEventListener("click",function(r){r.preventDefault();var l=$(this).val();handleFormSubmit(e,t,a,l,n,s)});for(var i=e.querySelectorAll("input, textarea, select"),l=0;l<i.length;++l)"select-one"==i.item(l).type&&($("#"+i.item(l).name).on("select2:unselect",function(a){var n=validate(e,t)||{};showErrors(e,n||{})}),$("#"+i.item(l).name).on("select2:select",function(a){var n=validate(e,t)||{};showErrors(e,n||{})})),i.item(l).addEventListener("focusout",function(a){showErrorsForInput(this,(validate(e,t)||{})[this.name])})}function handleFormSubmit(e,t,a,n,s,r){var l=validate(e,t);r&&console.log(l),showErrors(e,l||{}),l||($(s).append(generate_loader_html("لطفا منتظر بمانید...")),a(e,n))}function showErrors(e,t){_.each(e.querySelectorAll("input[name], select[name], textarea[name]"),function(e){showErrorsForInput(e,t&&t[e.name])})}function showErrorsForInput(e,t){if("hidden"!=e.type){var a=closestParent(e.parentNode,"form-group"),n=a.querySelector(".messages");resetFormGroup(a),t?(a.classList.add("has-error"),_.each(t,function(e){addError(n,e)})):a.classList.add("has-success")}}function closestParent(e,t){return e&&e!=document?e.classList.contains(t)?e:closestParent(e.parentNode,t):null}function resetFormGroup(e){e.classList.remove("has-error"),e.classList.remove("has-success"),_.each(e.querySelectorAll(".help-block.error"),function(e){e.parentNode.removeChild(e)})}function addError(e,t){var a=document.createElement("p");a.classList.add("help-block"),a.classList.add("error"),a.innerHTML=t,e.appendChild(a)}function showMessages(e,t,a,n){$(document).off("click","#"+t),$(document).on("click","#"+t,function(){s.classList.remove("message_show")});var s=document.querySelector("#"+t);s.innerHTML="",s.classList.remove("message_show"),s.classList.remove("message_info"),s.classList.remove("message_success"),s.classList.remove("message_error"),s.classList.add("message_show"),"info"==a&&s.classList.add("message_info"),"success"==a&&s.classList.add("message_success"),"error"==a&&s.classList.add("message_error"),"warning"==a&&s.classList.add("message_warning");var r=document.createElement("ul");$.each(e,function(e,t){var a=document.createElement("li"),n=document.createElement("ul");$.each(t.items,function(e,t){var a=document.createElement("li");a.innerHTML="<h6>"+t+"</h6>",n.appendChild(a)}),a.innerHTML="<h5>"+t.title+"</h5>",a.append(n),r.appendChild(a)}),s.append(r);var l=document.createElement("button");l.classList.add("close_message_btn"),l.classList.add("fa"),l.classList.add("fa-times"),s.append(l),document.getElementById(t).scrollIntoView()}function generate_loader_html(e){return'<div class="total_loader">   <div class="total_loader_content" style="">       <div class="spinner_area">           <div class="spinner_rects">               <div class="rect1"></div>               <div class="rect2"></div>               <div class="rect3"></div>               <div class="rect4"></div>               <div class="rect5"></div>           </div>       </div>       <div class="text_area">'+e+"</div>   </div></div>"}function menotify(e,t,a){PNotify.desktop.permission(),new PNotify({title:t,type:e,text:a,desktop:{desktop:!0}})}function yesNoAlert(e,t,a,n,s,r,l,i,o){i=i||!1,o=o||{},swal({title:e,text:t,type:a,showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:n,cancelButtonText:s,closeOnConfirm:!1,closeOnCancel:!1},function(e){e?(r(l),swal.close()):(i&&i(o),swal.close())})}var CommonDom_DataTables='<"datatable-header"fl><"datatable-scroll"t><"datatable-footer"ip>',LangJson_DataTables={decimal:"",emptyTable:"هیچ داده ای در جدول وجود ندارد",info:"نمایش _START_ تا _END_ از _TOTAL_ رکورد",infoEmpty:"نمایش 0 تا 0 از 0 رکورد",infoFiltered:"(فیلتر شده از _MAX_ رکورد)",infoPostFix:"",thousands:",",lengthMenu:"نمایش _MENU_ رکورد",loadingRecords:"در حال بارگزاری...",processing:"در حال پردازش...",search:"جستجو: ",zeroRecords:"رکوردی با این مشخصات پیدا نشد",paginate:{first:"ابتدا",last:"انتها",next:"بعدی",previous:"قبلی"},aria:{sortAscending:": فعال سازی نمایش به صورت صعودی",sortDescending:": فعال سازی نمایش به صورت نزولی"}};$.extend($.fn.dataTable.defaults,{autoWidth:!1,dom:CommonDom_DataTables,language:LangJson_DataTables,processing:!0,serverSide:!0,drawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").addClass("dropup")},preDrawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").removeClass("dropup")}}),validate.validators.username=function(e,t,a,n){var s=checkUsername(e);return""==s?null:t.message?t.message:s},validate.validators.only_english=function(e,t,a,n){if(null!=e)return/[^A-Za-z]/g.test(e)?t.message:null},validate.validators.only_persian=function(e,t,a,n){if(null!=e)return/@"^([\u0600-\u06FF]+\s?)+$"/g.test(e)?t.message:null},validate.validators.only_numbers=function(e,t,a,n){if(null!=e)return/[^0-9]/g.test(e)?t.message:null},validate.validators.national_id=function(e,t,a,n){if(null!=e)return check_national_id(e)?null:t.message},validate.validators.codeMelli=function(e,t,a,n){if(null!=e)return checkCodeMelli(e)?null:t.message},validate.validators.iranMobileNumber=function(e,t,a,n){if(null!=e)return checkMobileNumber(e)?null:t.message},validate.validators.require_if_presence=function(e,t,a,n){return other_attribute_presence=null==n[t.other_attribute_name],other_attribute_presence?null:null==e?t.message:null},validate.validators.require_if=function(e,t,a,n){var s=!1;switch(t.other_attribute_operand,target_field_value=null==n[t.other_attribute_name]?0:n[t.other_attribute_name],t.other_attribute_operand){case">":s=target_field_value>t.other_attribute_value;break;case"<":s=target_field_value<t.other_attribute_value;break;case">=":s=target_field_value>=t.other_attribute_value;break;case"<=":s=target_field_value<=t.other_attribute_value;break;case"<>":case"!=":s=target_field_value!=t.other_attribute_value;break;case"!==":s=target_field_value!==t.other_attribute_value;break;case"=":case"==":default:s=target_field_value==t.other_attribute_value}if(s){if(null==e)return t.message;if(t.exclusion){var r=!0;return t.exclusion.forEach(function(t){e==t&&(r=!1)}),r?null:t.exclusion_message?t.exclusion_message:t.message}if(t.inclusion){var r=!0;return t.inclusion.forEach(function(t){e!=t&&(r=!1)}),r?null:t.inclusion_message?t.inclusion_message:t.message}return null}return null},validate.extend(validate.validators.datetime,{parse:function(e,t){return+moment.utc(e)},format:function(e,t){var a=t.dateOnly?"YYYY-MM-DD":"YYYY-MM-DD hh:mm:ss";return moment.utc(e).format(a)}});